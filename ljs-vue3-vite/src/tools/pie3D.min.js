import"echarts-gl";export function getParametricEquation(t,a,e,i,o,n){let r=(t+a)/2,h=t*Math.PI*2,s=a*Math.PI*2,M=r*Math.PI*2;e=!1,o=void 0!==o?o:1/3;let c=e?.1*Math.sin(M):0,u=e?.1*Math.cos(M):0,m=i?1.05:1;return{u:{min:-Math.PI,max:3*Math.PI,step:Math.PI/32},v:{min:0,max:2*Math.PI,step:Math.PI/20},x:function(t,a){return t<h?c+Math.cos(h)*(1+Math.cos(a)*o)*m:t>s?c+Math.cos(s)*(1+Math.cos(a)*o)*m:c+Math.cos(t)*(1+Math.cos(a)*o)*m},y:function(t,a){return t<h?u+Math.sin(h)*(1+Math.cos(a)*o)*m:t>s?u+Math.sin(s)*(1+Math.cos(a)*o)*m:u+Math.sin(t)*(1+Math.cos(a)*o)*m},z:function(t,a){return t<.5*-Math.PI?Math.sin(t):t>2.5*Math.PI?Math.sin(t)*n*.1:Math.sin(a)>0?1*n*.1:-1}}}export function getPie3D(t,a){let e=[],i=0,o=0,n=0,r=[],h=void 0!==a?(1-a)/(1+a):1/3;for(let a=0;a<t.length;a++){i+=t[a].value;let o={name:void 0===t[a].name?`series${a}`:t[a].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:t[a],pieStatus:{selected:!1,hovered:!1,k:.1}};if(void 0!==t[a].itemStyle){let e={};void 0!==t[a].itemStyle.color&&(e.color=t[a].itemStyle.color),void 0!==t[a].itemStyle.opacity&&(e.opacity=t[a].itemStyle.opacity),o.itemStyle=e}e.push(o)}for(let t=0;t<e.length;t++)n=o+e[t].pieData.value,e[t].pieData.startRatio=o/i,e[t].pieData.endRatio=n/i,e[t].parametricEquation=getParametricEquation(e[t].pieData.startRatio,e[t].pieData.endRatio,!1,!1,h,e[t].pieData.value),o=n,r.push(e[t].name);e.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*2},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*2},z:function(t,a){return Math.cos(a)>0?-.5:-5}}}),e.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:.2,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*2},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*2},z:function(t,a){return Math.cos(a)>0?-5:-7}}}),e.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},itemStyle:{opacity:.2,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(t,a){return(Math.sin(a)*Math.sin(t)+Math.sin(t))/Math.PI*2.2},y:function(t,a){return(Math.sin(a)*Math.cos(t)+Math.cos(t))/Math.PI*2.2},z:function(t,a){return Math.cos(a),-7}}});let s={xAxis3D:{},yAxis3D:{},zAxis3D:{},grid3D:{viewControl:{autoRotate:!0,distance:140,alpha:45},show:!1,boxHeight:80},series:e};return s}export default{getParametricEquation:getParametricEquation,getPie3D:getPie3D};